<!DOCTYPE html><html class=''>
<head>
    <meta charset='UTF-8'>
    <meta name="robots" content="noindex">
    <title>My experiment</title>

<link rel='stylesheet' type='text/css' href='css/jspsych.css'>
<link rel='stylesheet' type='text/css' href='css/default_style.css'>
<link rel='stylesheet' type='text/css' href='css/style.css'>
<link href="css/jspsych.css" rel="stylesheet" type="text/css"></link>

<style type="text/css">
span.green { color:#00ff00;font-weight:bold;font-family:Calibri;font-size:20;    // Declared as static }
span.red { color:#FF0000;font-weight:bold;font-family:Calibri;font-size:20;   // Declared as static }
.midden {left: center; top: 600px; position: fixed;}
</style>

</head>

<body>
<script src="plugins/jspsych.js"></script>
<script src="plugins/jspsych-instructions.js"></script>
<script src="plugins/jspsych-html-keyboard-response.js"></script>
<script src="plugins/jspsych-image-keyboard-response.js"></script>
<script src="plugins/jspsych-survey-likert.js"></script>
<script src="plugins/jspsych-fullscreen.js"></script>
<script src="plugins/jspsych-categorize-image.js"></script>
<script src="plugins/jspsych-categorize-html.js"></script>
<script src="plugins/jspsych-survey-multi-choice.js"></script>
<script src="plugins/jspsych-image-slider-response.js"></script>

<script src='plugins/jspsych-call-function.js'></script>
<script src='plugins/jspsych-survey-text.js'></script>

<script src='plugins/poldrack_plugins/jspsych-poldrack-text.js'></script>
<script src='plugins/poldrack_plugins/jspsych-poldrack-categorize.js'></script>
<script src='plugins/poldrack_plugins/jspsych-poldrack-instructions.js'></script>
<script src='plugins/poldrack_plugins/jspsych-attention-check.js'></script>
<script src='plugins/poldrack_plugins/jspsych-poldrack-single-stim.js'></script>
<script src='plugins/poldrack_plugins/jspsych-single-stim-button.js'></script>

<script>

    /* create timeline */
    var timeline = [];

    timeline.push({
        type: 'fullscreen',
        fullscreen_mode: true
      });

    /* create random participantID */
    var subject_id = jsPsych.randomization.randomID(5);
      jsPsych.data.addProperties({
      subject: subject_id,
      });

    /* create condition */
    var condition = Math.floor(Math.random() * 2); // Random number generation to assign condition
    if (condition < .5) { // If condition is 1, they get to see the logos with names
      var rabo_pre_img = ['img/small/rabo1.jpg'];
      var pepsi_pre_img = ['img/small/pepsi1.jpg'];
      var nike_pre_img = ['img/small/nike1.jpg'];
      var starbucks_pre_img = ['img/small/starbucks1.jpg'];
      var plus_pre_img = ['img/small/plus1.jpg'];
      var kfc_pre_img = ['img/small/kfc1.jpg'];
  } else { //  If condition is 2, they get to see the logos without names
      var rabo_pre_img = ['img/small/rabo2.jpg'];
      var pepsi_pre_img = ['img/small/pepsi2.jpg'];
      var nike_pre_img = ['img/small/nike2.jpg'];
      var starbucks_pre_img = ['img/small/starbucks2.jpg'];
      var plus_pre_img = ['img/small/plus2.jpg'];
      var kfc_pre_img = ['img/small/kfc2.jpg'];
    };

    var welcome = {
      type: 'instructions',
      pages: ['Welcome to the experiment. <br><br><br> You are going to participate in a study on brands and their logo\'s <br> Click next to begin.',
        'Before we start the experiment, we will ask you several general questions <br> and several questions on your attitude towards the brands in this study'],
      show_clickable_nav: true,
      show_page_number: false
    }
    timeline.push(welcome);

    /* pre-questionnaire */
    // Slider scales for images
    var slider_scale_rabo = {
      type: 'image-slider-response',
      stimulus: rabo_pre_img,
      labels: ['Not at all familiar','Very familiar'],
      prompt: "<p>How familiar are you with this logo?</p>",
      response_ends_trial: true
    }

    var slider_scale_pepsi = {
      type: 'image-slider-response',
      stimulus: pepsi_pre_img,
      labels: ['Not at all familiar','Very familiar'],
      prompt: "<p>How familiar are you with this logo?</p>",
      response_ends_trial: true
    }

    var slider_scale_nike = {
      type: 'image-slider-response',
      stimulus: nike_pre_img,
      labels: ['Not at all familiar','Very familiar'],
      prompt: "<p>How familiar are you with this logo?</p>",
      response_ends_trial: true
    }

    var slider_scale_starbucks = {
      type: 'image-slider-response',
      stimulus: starbucks_pre_img,
      labels: ['Not at all familiar','Very familiar'],
      prompt: "<p>How familiar are you with this logo?</p>",
      response_ends_trial: true
    }

    var slider_scale_plus = {
      type: 'image-slider-response',
      stimulus: plus_pre_img,
      labels: ['Not at all familiar','Very familiar'],
      prompt: "<p>How familiar are you with this logo?</p>",
      response_ends_trial: true
    }

    var slider_scale_kfc = {
      type: 'image-slider-response',
      stimulus: kfc_pre_img,
      labels: ['Not at all familiar','Very familiar'],
      prompt: "<p>How familiar are you with this logo?</p>",
      response_ends_trial: true
    }

    // defining response scales that can be used.
    var scale_1 = ["Strongly Disagree","","Disagree","","Neutral","","Agree","","Strongly Agree"];

    var likert_scale_rabo = {
      type: 'survey-likert',
      questions: [{prompt: "I am familiar with the brand Rabobank", labels: scale_1, required:true},
      {prompt:  "If Rabobank were not available, it would make little difference to me if I had to choose another brand", labels: scale_1, required:true},
      {prompt: "I consider myself to be highly loyal to Rabobank", labels: scale_1, required:true},
      {prompt: "When another brand is cheaper, I will generally use it rather than Rabobank", labels: scale_1, required:true}],
      };

    var likert_scale_nike = {
      type: 'survey-likert',
      questions: [{prompt: "I am familiar with the brand Nike", labels: scale_1, required:true},
      {prompt:  "If Nike were not available, it would make little difference to me if I had to choose another brand", labels: scale_1, required:true},
      {prompt: "I consider myself to be highly loyal to Nike", labels: scale_1, required:true},
      {prompt: "When another brand is cheaper, I will generally buy it rather than Nike", labels: scale_1, required:true}],
      };

    var likert_scale_pepsi = {
      type: 'survey-likert',
      questions: [{prompt: "I am familiar with the brand Pepsi", labels: scale_1, required:true},
      {prompt:  "If Pepsi were not available, it would make little difference to me if I had to choose another brand", labels: scale_1, required:true},
      {prompt: "I consider myself to be highly loyal to Pepsi", labels: scale_1, required:true},
      {prompt: "When another brand is cheaper, I will generally buy it rather than Pepsi", labels: scale_1, required:true}],
      };

    var likert_scale_starbucks = {
      type: 'survey-likert',
      questions: [{prompt: "I am familiar with the brand Starbucks", labels: scale_1, required:true},
      {prompt: "If Starbucks were not available, it would make little difference to me if I had to choose another brand", labels: scale_1, required:true},
      {prompt: " I consider myself to be highly loyal to Starbucks", labels: scale_1, required:true},
      {prompt: " When another brand is cheaper, I will generally buy it rather than Starbucks", labels: scale_1, required:true}],
      };

    var likert_scale_plus = {
      type: 'survey-likert',
      questions: [{prompt: "I am familiar with the brand Plus", labels: scale_1, required:true},
      {prompt: "If Plus were not available, it would make little difference to me if I had to choose another brand", labels: scale_1, required:true},
      {prompt: " I consider myself to be highly loyal to Plus", labels: scale_1, required:true},
      {prompt: " When another shop is cheaper, I will generally go there rather than Plus", labels: scale_1, required:true}],
      };

    var likert_scale_kfc = {
      type: 'survey-likert',
      questions: [{prompt: "I am familiar with the brand KFC", labels: scale_1, required:true},
      {prompt: "If KFC were not available, it would make little difference to me if I had to choose another brand", labels: scale_1, required:true},
      {prompt: " I consider myself to be highly loyal to KFC", labels: scale_1, required:true},
      {prompt: " When another brand is cheaper, I will generally buy it rather than KFC", labels: scale_1, required:true}],
      };
      // Insert more brands here

    var gender_options = ["Male","Female","Other"];
    var age_options = ["<18","18-25","26-35","36-45","46-55","56+"];
    var hand_options = ["Left","Right"];
    var occupation_options = ["Student","Employed","Other"]

    var demographic_block = {
      type: 'survey-multi-choice',
      questions: [{prompt: "Gender:", options: gender_options, required:true, horizontal: true,},
                  {prompt: "Age:", options: age_options, required: true, horizontal: true,},
                  {prompt: "Dominant hand:", options: hand_options, required: true, horizontal: true,},
                  {prompt: "Ocupation:", options: occupation_options, required: true, horizontal: true}],
    };

    var likert_procedure = {
      timeline: [slider_scale_rabo,likert_scale_rabo,slider_scale_pepsi,likert_scale_pepsi,
        slider_scale_nike,likert_scale_nike,slider_scale_starbucks,likert_scale_starbucks,
        slider_scale_plus,likert_scale_plus,slider_scale_kfc,likert_scale_kfc,demographic_block],
      randomize_order: false,
    }

    timeline.push(likert_procedure);

    /* define instructions trial */
    var instructions = {
      type: "html-keyboard-response",
      stimulus: "<p>In this experiment, you will first see a fixation cross " +
          "on the screen.</p><p>Then, shortly, a <strong>logo</strong> " +
          "is shown followed by a <strong> word</strong>.</p>" +
          "<p>Answer whether you feel the word matches the logo " +
          "as fast as you can.</p>" +
          "<p> Use your <strong> right hand </strong> to respond.</p><br>" +
          "<p> Press the <strong> Left Arrow-key for yes </strong> and the <strong> Right Arrow-key for no</strong>. </p><br><br>" +
          "<p> You will first have a practice round to get used to the task and its tempo.</p>" +
          "<div style='width: 700px;'>"+
          "<p><br><strong> Put your fingers on the Left Arrow-key and on the Right Arrow-key</strong>.</p>" +
          "<p>Press any key to begin.</p>",
      post_trial_gap: 1000
    };
    timeline.push(instructions);


  if (condition < .5) { // If condition is 1, they get to see the images with pools
    var factors = {
      logos: ['img/rabo1.jpg', 'img/pepsi1.jpg', 'img/nike1.jpg', 'img/starbucks1.jpg', 'img/plus1.jpg', 'img/kfc1.jpg'],
      words: ['<div style="font-size:60px;">expensive</div>', '<div style="font-size:60px;">fair</div>',
              '<div style="font-size:60px;">high quality</div>','<div style="font-size:60px;">desirable</div>',]
          };
    var practice_factors = { // make it consistent for the practice round
      practice_logos: ['img/audi1.jpg','img/airbnb1.jpg'],
      practice_words: ['<div style="font-size:60px;">expensive</div>', '<div style="font-size:60px;">fair</div>',
                       '<div style="font-size:60px;">high quality</div>','<div style="font-size:60px;">desirable</div>',]
    };
} else { //  If condition is 2, they get to see the images without pools
    var factors = {
      logos: ['img/rabo2.jpg', 'img/pepsi2.jpg', 'img/nike2.jpg', 'img/starbucks2.jpg', 'img/plus2.jpg', 'img/kfc2.jpg'],
      words: ['<div style="font-size:60px;">expensive</div>', '<div style="font-size:60px;">fair</div>',
              '<div style="font-size:60px;">high quality</div>','<div style="font-size:60px;">desirable</div>',]
            };
    var practice_factors = { // make it consistent for the practice round
      practice_logos: ['img/audi2.jpg','img/airbnb2.jpg'],
      practice_words: ['<div style="font-size:60px;">expensive</div>', '<div style="font-size:60px;">fair</div>',
                       '<div style="font-size:60px;">high quality</div>','<div style="font-size:60px;">desirable</div>',]
            };
    };

    var preloading = ['img/airbnb.jpg','img/airbnb2.jpg',
            'img/audi2.jpg','img/audi2.jpg',
            'img/rabo1.jpg', 'img/rabo2.jpg',
            'img/pepsi1.jpg', 'img/pepsi2.jpg',
            'img/nike1.jpg', 'img/nike2.jpg',
            'img/starbucks1.jpg', 'img/starbucks2.jpg',
            'img/plus1.jpg', 'img/plus2.jpg',
            'img/kfc1.jpg', 'img/kfc2.jpg',];

    var full_design = jsPsych.randomization.factorial(factors, 1);

    var practice_design = jsPsych.randomization.factorial(practice_factors, 1);

// show fixation cross
    var fixation = {
      type: 'html-keyboard-response',
      stimulus: '<div style="font-size:60px;">+</div>',
      choices: ['p'],
      trial_duration: 900,
      prompt: '<div style= width:100vw ><div style="position:absolute; top:66vh; left:33%; display: inline-block" ;=""><span class="green"> Yes </span></div> <div style="position:absolute; top:66vh; right:33%; display: inline-block" ;=""><span class="red"> No</span></div></div>',
      data: {test_part: 'fixation'},
    }

// Pause block
    var pause = {
      type: 'html-keyboard-response',
      stimulus: '<div style="font-size:60px;">This is a short break <br><br> Press any key to continue</div>',
      post_trial_gap: 1000
    }

// show company logo
    var test = {
      type: "image-keyboard-response",
      data: { screen_type: 'logo'},
      stimulus: jsPsych.timelineVariable('logos'),
      choices: ['p'],
      prompt: '<div style= width:100vw ><div style="position:absolute; top:66vh; left:33%; display: inline-block" ;=""><span class="green"> Yes </span></div> <div style="position:absolute; top:66vh; right:33%; display: inline-block" ;=""><span class="red"> No</span></div></div>',
      trial_duration: 750,
      data: {test_part: 'logo'},
    }
// show practice logo
    var practice_test = {
      type: "image-keyboard-response",
      data: { screen_type: 'practice_logo'},
      stimulus: jsPsych.timelineVariable('practice_logos'),
      choices: ['p'],
      prompt: '<div style= width:100vw ><div style="position:absolute; top:66vh; left:33%; display: inline-block" ;=""><span class="green"> Yes </span></div> <div style="position:absolute; top:66vh; right:33%; display: inline-block" ;=""><span class="red"> No</span></div></div>',
      trial_duration: 750,
      data: {test_part: 'practice logo'},
    }
// show target word
    var word = {
      type: "categorize-html",
      data: { screen_type: 'targetWord'},
      stimulus: jsPsych.timelineVariable('words'),
      // choices: ['k','l','p'], //a-s for left-handed, k-l for right-handed
      choices: [37,39], //37 is left arrow, 39 is right arrow
      data: jsPsych.timelineVariable('data'),
      trial_duration: 1500,
      show_stim_with_feedback: false,
      incorrect_text: "<p class='prompt'> </p>",
      prompt: '<div style= width:100vw ><div style="position:absolute; top:66vh; left:33%; display: inline-block" ;=""><span class="green"> Yes </span></div> <div style="position:absolute; top:66vh; right:33%; display: inline-block" ;=""><span class="red"> No</span></div></div>',
      feedback_duration: 1400, // duration of white before next trial starts
      timeout_message: '<div class = centerbox><div class = center-text>Too Slow!</div></div>',
      data: {test_part: 'word'},
    }
// show practice target word
    var practice_word = {
      type: "categorize-html",
      data: { screen_type: 'practice_targetWord'},
      stimulus: jsPsych.timelineVariable('practice_words'),
      // choices: ['k','l','ArrowLeft','ArrowRight'], //a-s for left-handed, k-l for right-handed
      choices: [37,39], //37 is left arrow, 39 is right arrow
      data: jsPsych.timelineVariable('data'),
      trial_duration: 1500,
      show_stim_with_feedback: false,
      incorrect_text: "<p class='prompt'> </p>",
      prompt: '<div style= width:100vw ><div style="position:absolute; top:66vh; left:33%; display: inline-block" ;=""><span class="green"> Yes </span></div> <div style="position:absolute; top:66vh; right:33%; display: inline-block" ;=""><span class="red"> No</span></div></div>',
      feedback_duration: 1400, // duration of white before next trial starts
      timeout_message: '<div class = centerbox><div class = center-text>Too Slow!</div></div>',
      data: {test_part: 'practice word'},
                              }

    var practice_procedure = {
      timeline: [fixation, practice_test, practice_word],
      timeline_variables: practice_design,
      randomize_order: false,
      repetitions: 1
    }

    var practice_end = {
      type: "html-keyboard-response",
      stimulus: "<p>You finished the practice round. The actual experiment will now begin </p> " +
          "<p> As a reminder: use the <strong> Left Arrow-key for yes </strong>and the <strong> Right Arrow-key for no</strong>.</p><br><br>" +
          "<p> Between every block there will be a short break. </p>" +
          "<p><br> Put your fingers on the Left Arrow-key and on the Right Arrow-key.</p>" +
          "<p>Press any key to begin.</p>",
      post_trial_gap: 1000
    };

    var test_procedure = {
      timeline: [fixation, test, word],
      timeline_variables: full_design,
      randomize_order: true,
      repetitions: 1
    }

    timeline.push(practice_procedure);
    timeline.push(practice_end);
    timeline.push(test_procedure);
    timeline.push(pause);
    timeline.push(test_procedure);
    timeline.push(pause);
    timeline.push(test_procedure);

    // Collect e-mail adress
    var email = {
      type: 'survey-text',
      questions: [{prompt: "In a few days, we would like to ask you a few questions about this research which will take 2 minutes. <br> At what e-mail adress can we contact you?"}],
    };

    /* define debrief */
    var debrief_block = {
      type: "html-keyboard-response",
      stimulus: "<p> Thank you for participating in this experiment!</p> " +
                "<p> If you have any questions or if you are interested in the results, please e-mail me at </p>" +
                "<p><br>mitchel@alpha.one<br></p>" +
                "<p> Press any key to shut down the experiment and save the data.</p>"
        };

    timeline.push(email);
    timeline.push(debrief_block);

    timeline.push({
      type: 'fullscreen',
      fullscreen_mode: false
    });

    /* start the experiment */
    jsPsych.init({
      timeline: timeline,
      fullscreen: true,
      show_preload_progress_bar: true,
      on_finish: function() {
      jsPsych.data.displayData(); // displaying in browser in trial by trial form
      //jsPsych.data.displayData('csv'); // displaying in browser in csv form

      // select all trials
      var all_data = jsPsych.data.get();
//      var all_data = jsPsych.data.getInteractionData(); // Figure out how to add this: log interaction data (e.g. leaving full screen or changing screen) to ensure commitment of participant.

      jsPsych.data.getInteractionData();


      jsPsych.data.get().localSave('csv','brand-experiment-results.csv'); // Save localy as csv
//      jsPsych.data.get().localSave('json','mydata.json'); // Save localy as json // not working yet
      // When collecting online, visit: https://www.jspsych.org/overview/data/ for instructions on saving
      jsPsych.data.localSave('brand-experiment-results.csv', 'csv');
    }
    });

  </script>
  </body>
  </html>
